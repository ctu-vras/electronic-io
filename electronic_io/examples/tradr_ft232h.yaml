# SPDX-License-Identifier: BSD-3-Clause
# SPDX-FileCopyrightText: Czech Technical University in Prague

virtual_pins:
  front_led_pin:  # 2 digital pins whose combined value outputs a PWM percentage
    name: "FrontLed"
    type: electronic_io.DigitalPinCombo
    pins:
      - pin: 'C0'
      - pin: 'C1'
    unit: 'PWM'
    combinations:
      - combo: [0b00, 0b10]
        value: 0.0
      - combo: 0b11
        value: 0.5
      - combo: 0b01
        value: 1.0
  side_led_pin:
    name: "SideLed"
    type: electronic_io.DigitalPinCombo
    pins:
      - pin: 'C2'
      - pin: 'C3'
    unit: 'PWM'
    combinations:
      - combo: [0b00, 0b10]
        value: 0.0
      - combo: 0b11
        value: 0.5
      - combo: 0b01
        value: 1.0

electronic_io_devices:

  power_switch_sw1:
    topic: "power_switch/sw1"
    type: electronic_io.PowerSwitch
    output_pins: 
      - pin: 'C5'
        inverted: False
    readback_pin:
      pin: 'C5'
      inverted: False
  power_switch_motors:
    topic: "power_switch/motors"
    type: electronic_io.PowerSwitch
    output_pins:
      - pin: 'C6'
        inverted: False
    readback_pin:
      pin: 'C6'
      inverted: False
  power_switch_sw3:
    topic: "power_switch/sw3"
    type: electronic_io.PowerSwitch
    output_pins:
      - pin: 'C4'
        inverted: False
    readback_pin:
      pin: 'C4'
      inverted: False

  led_front:
    topic: "led/front"
    type: electronic_io.DimmableLED
    pwm_pin:
      pin: 'FrontLed'
  led_side:
    topic: "led/side"
    type: electronic_io.DimmableLED
    pwm_pin:
      pin: 'SideLed'
  led_all:
    topic: "led/all"
    type: electronic_io.OutputGroup
    devices:
      - led_front
      - led_side